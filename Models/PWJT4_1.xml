<?xml version="1.0" encoding="UTF-8"?>
<!--####################################################################
Lake of Constance Hangar
Boeing 707 for Flightgear
Copyright (C) 2013 M.Kraus

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.

Every software has a developer, also free software. 
As a gesture of courtesy and respect, I would be delighted 
if you contacted me before making any changes to this software. 
<info (at) marc-kraus.de> April, 2017
########################################################################-->
<PropertyList>
 <path>PWJT4.ac</path>

 	<effect>
	  <inherits-from>Effects/model-pbr</inherits-from>
	  <parameters>
	    <!-- Base Color -->
	    <!--texture n="0">
	      <type>white</type>
	    </texture-->
	    <!--base-color-factor type="vec4d">1.0 1.0 1.0 1.0</base-color-factor-->
	    <!-- Normalmap -->
	    <texture n="1">
	      <type>null-normalmap</type>
	    </texture>
	    <!-- ORM Texture (Occlusion R, Roughness G and Metallic B) -->
	    <texture n="2">
			<image>Aircraft/707/Models/E-3/E-3_ORM.png</image>
			<type>2d</type>
			<filter>linear-mipmap-linear</filter>
			<wrap-s>clamp</wrap-s>
			<wrap-t>clamp</wrap-t>
			<internal-format>normalized</internal-format>
		</texture>
	    <metallic-factor type="float"><use>pbr/metal</use></metallic-factor>
	    <roughness-factor type="float"><use>pbr/rough</use></roughness-factor>
	    <!-- Emissive -->
	    <texture n="3">
	      <type>white</type>
	    </texture>
	    <!--emissive-factor type="vec3d">0.0 0.0 0.0</emissive-factor-->
	    <!-- Double Sided -->
	    <cull-face>back</cull-face>
	    <!-- Whether to flip the texture vertically -->
	    <flip-vertically>false</flip-vertically>
	  </parameters>
		<object-name>engineCone</object-name>
		<object-name>engineDisk</object-name>
		<object-name>engineDiskFast</object-name>
		<object-name>engineCowlCenter</object-name>
		<object-name>engineCowlRear</object-name>
		<object-name>engineCowlFront</object-name>
		<object-name>engineDisk</object-name>
		<object-name>exhaustHeat</object-name>
		<!--object-name>engineInner</object-name-->
	</effect>
  
	<animation>
		<type>spin</type>
		<object-name>engineCone</object-name>
		<object-name>engineDisk</object-name>
		<object-name>engineDiskFast</object-name>
		<property>engines/engine[0]/n1</property>
		<factor>20</factor>   
		<center>
		 <x-m>0.0</x-m>
		 <y-m>0.0</y-m>
		 <z-m>0.0</z-m>
		</center>
		<axis>
		 <x>1</x>
		 <y>0</y>
		 <z>0</z>
		</axis>
	</animation>
	
  <animation>
      <type>translate</type>
      <object-name>engineCowlCenter</object-name>
      <property>sim/multiplay/generic/float[14]</property>
      <factor>0.2</factor>
      <axis>
          <x> 1.0</x>
          <y> 0.0</y>
          <z> 0.0</z>
      </axis>
  </animation>
  
  <animation>
      <type>translate</type>
      <object-name>engineCowlRear</object-name>
      <property>sim/multiplay/generic/float[14]</property>
      <factor>0.25</factor>
      <axis>
          <x> 1.0</x>
          <y> 0.0</y>
          <z> 0.0</z>
      </axis>
  </animation>

  <animation>
      <type>translate</type>
      <object-name>engineCowlFront</object-name>
			<property>engines/engine[0]/n1</property>
			<interpolation>
				<entry><ind>  30.0</ind><dep>   0.0</dep></entry>
				<entry><ind> 100.0</ind><dep>   1.0</dep></entry>
			</interpolation>
      <axis>
          <x> 1.0</x>
          <y> 0.0</y>
          <z> 0.0</z>
      </axis>
  </animation>  
	
	<animation>
	<type>select</type>
	<object-name>engineDisk</object-name>
		<condition>
			<less-than>
				<property>engines/engine[0]/n1</property>
				<value>25</value>
			</less-than>
		</condition>
	</animation>
	
	<animation>
	<type>select</type>
	<object-name>exhaustHeat</object-name>
		<condition>
			<greater-than>
				<property>engines/engine[0]/n1</property>
				<value>31</value>
			</greater-than>
		</condition>
	</animation>
	
	<animation>
		<type>material</type>
		<object-name>exhaustHeat</object-name>
		<emission>
			<red>0.002</red>
			<green>0.002</green>
			<blue>0.000025</blue>
			<factor-prop>engines/engine[0]/n1</factor-prop>
		</emission>
	</animation>

  <!-- smoke -->
	<model>
		<path>Aircraft/707/Models/Effects/smoke_1.xml</path>
		<offsets>
			<x-m> 2.1</x-m>
			<y-m> 0.0</y-m>
			<z-m> 0.0</z-m>
		</offsets>
	</model>
	
</PropertyList>
